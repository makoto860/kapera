<% provide(:title, @product.name) %>
<div class="Container ProductsContainer">
  <ul class="Breadcrumb">
    <%= render 'shared/breadcrumb', categories: @categories %>
    <li class="Breadcrumb__item" aria-current="page">
      <%= @product.name %>
    </li>
  </ul>
  <div class="ProductWrapper">
    <div class="ProductSlider">
      <div class="ProductSlider__carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <%= image_tag @product.images.first.attachment(:product), class: 'ProductSlider__image' %>
        </div>
      </div>
    </div>
    <section class="ProductDetail">
      <h2 class="ProductDetail__name">
        <%= @product.name %>
      </h2>

      <div class="ProductDetail__size-buttons">
        <div class="SizeButton">
          <input id="radio1" class="SizeButton__input" name="size" type="radio" value="S" checked="">
          <label for="radio1" class="SizeButton__label">S</label>
        </div>
        <div class="SizeButton">
          <input id="radio2" class="SizeButton__input" name="size" type="radio" value="M">
          <label for="radio2" class="SizeButton__label">M</label>
        </div>
        <div class="SizeButton">
          <input id="radio3" class="SizeButton__input" name="size" type="radio" value="L">
          <label for="radio3" class="SizeButton__label">L</label>
        </div>
        <div class="SizeButton">
          <input id="radio4" class="SizeButton__input" name="size" type="radio" value="XL">
          <label for="radio4" class="SizeButton__label">XL</label>
        </div>
      </div>
      <h3 class="ProductDetail__price">
        <%= @product.display_price %>
      </h3>
      <label class="SubTotalForItem__label" for="item-count">数量</label>
      <div class="SubTotalForItem__select ProductDetail__item-count">
        <select name="item-count" id="item-count">
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
          <option value="10">10</option>
        </select>
      </div>
      <a class="ProductDetail__add-button" href="/cart">カートに入れる</a>
    </section>
  </div>
  <section class="RelatedProducts">
    <h3 class="RelatedProducts__title">一緒に見られている商品</h3>
    <ul class="RelatedProducts__list">
      <% @related_products.each do |product| %>
        <li class="RelatedProduct">
          <%= link_to product_path(product.id) do %>
            <%= image_tag product.images.first.attachment(:product), class: 'RelatedProduct__image' %>
            <p class="RelatedProduct__name"><%= product.name %></p>
            <span class="RelatedProduct__price"><%= product.display_price %></span>
          <% end %>
        </li>
      <% end %>
    </ul>
  </section>
</div>
